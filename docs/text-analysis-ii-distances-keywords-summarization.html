<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Text Analysis II: Distances, Keywords, Summarization | DH in AAS - TA with R (2022S)</title>
  <meta name="description" content="This is a collection of relevant materials for the class ‘57-528 ONLINE S: Digital Humanities in African and Asian Studies: Text Analysis with R’ (2022S), offered at the University of Hamburg (Afrika-Asien Institut) and taught by Maxim G. Romanov" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Text Analysis II: Distances, Keywords, Summarization | DH in AAS - TA with R (2022S)" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://eis1600.github.io/course_TA_R_2022S/" />
  
  <meta property="og:description" content="This is a collection of relevant materials for the class ‘57-528 ONLINE S: Digital Humanities in African and Asian Studies: Text Analysis with R’ (2022S), offered at the University of Hamburg (Afrika-Asien Institut) and taught by Maxim G. Romanov" />
  <meta name="github-repo" content="EIS1600/course_TA_R_2022S" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Text Analysis II: Distances, Keywords, Summarization | DH in AAS - TA with R (2022S)" />
  
  <meta name="twitter:description" content="This is a collection of relevant materials for the class ‘57-528 ONLINE S: Digital Humanities in African and Asian Studies: Text Analysis with R’ (2022S), offered at the University of Hamburg (Afrika-Asien Institut) and taught by Maxim G. Romanov" />
  

<meta name="author" content="Maxim G. Romanov" />


<meta name="date" content="2022-06-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="touch-icon.png" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="text-analysis-i-basics.html"/>
<link rel="next" href="text-analysis-iii-finding-groups-of-texts.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DH Methods for Middle Eastern Studies: Text Mining with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Syllabus</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-details"><i class="fa fa-check"></i>Course Details</a></li>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#aims-contents-and-method-of-the-course"><i class="fa fa-check"></i><b>0.1</b> Aims, Contents and Method of the Course</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#course-evaluation"><i class="fa fa-check"></i><b>0.2</b> Course Evaluation</a>
<ul>
<li class="chapter" data-level="0.2.1" data-path="index.html"><a href="index.html#datacamp"><i class="fa fa-check"></i><b>0.2.1</b> DataCamp</a></li>
</ul></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#class-participation"><i class="fa fa-check"></i><b>0.3</b> Class Participation</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#homework"><i class="fa fa-check"></i><b>0.4</b> Homework</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#final-project"><i class="fa fa-check"></i><b>0.5</b> Final Project</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#practice-worksheets-r-notebooks"><i class="fa fa-check"></i><b>0.6</b> Practice Worksheets (R Notebooks)</a></li>
<li class="chapter" data-level="0.7" data-path="index.html"><a href="index.html#additional-study-materials"><i class="fa fa-check"></i><b>0.7</b> Additional Study Materials</a></li>
<li class="chapter" data-level="0.8" data-path="index.html"><a href="index.html#software-tools-technologies"><i class="fa fa-check"></i><b>0.8</b> Software, Tools, &amp; Technologies:</a></li>
<li class="chapter" data-level="0.9" data-path="index.html"><a href="index.html#submitting-homework"><i class="fa fa-check"></i><b>0.9</b> Submitting Homework:</a>
<ul>
<li class="chapter" data-level="0.9.1" data-path="index.html"><a href="index.html#handouts-workbooks"><i class="fa fa-check"></i><b>0.9.1</b> Handouts / Workbooks</a></li>
<li class="chapter" data-level="0.9.2" data-path="index.html"><a href="index.html#datacamp-assignments"><i class="fa fa-check"></i><b>0.9.2</b> DataCamp Assignments</a></li>
</ul></li>
<li class="chapter" data-level="0.10" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i><b>0.10</b> Schedule</a></li>
<li class="chapter" data-level="0.11" data-path="index.html"><a href="index.html#lesson-topics-subject-to-modifications"><i class="fa fa-check"></i><b>0.11</b> Lesson Topics (<em>subject to modifications</em>)</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="general-introduction.html"><a href="general-introduction.html"><i class="fa fa-check"></i><b>1</b> General Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="general-introduction.html"><a href="general-introduction.html#L01_goals"><i class="fa fa-check"></i><b>1.1</b> Goals</a></li>
<li class="chapter" data-level="1.2" data-path="general-introduction.html"><a href="general-introduction.html#L01_sw"><i class="fa fa-check"></i><b>1.2</b> Software</a></li>
<li class="chapter" data-level="1.3" data-path="general-introduction.html"><a href="general-introduction.html#L01_class"><i class="fa fa-check"></i><b>1.3</b> Class</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="general-introduction.html"><a href="general-introduction.html#installing-rmarkdown"><i class="fa fa-check"></i><b>1.3.1</b> Installing <code>rmarkdown</code></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="general-introduction.html"><a href="general-introduction.html#starting-with-our-first-workbook"><i class="fa fa-check"></i><b>1.4</b> Starting with our first workbook:</a></li>
<li class="chapter" data-level="1.5" data-path="general-introduction.html"><a href="general-introduction.html#L01_topics"><i class="fa fa-check"></i><b>1.5</b> Topics covered</a></li>
<li class="chapter" data-level="1.6" data-path="general-introduction.html"><a href="general-introduction.html#L01_RM"><i class="fa fa-check"></i><b>1.6</b> Reference materials</a></li>
<li class="chapter" data-level="1.7" data-path="general-introduction.html"><a href="general-introduction.html#L01_HW"><i class="fa fa-check"></i><b>1.7</b> Homework</a></li>
<li class="chapter" data-level="1.8" data-path="general-introduction.html"><a href="general-introduction.html#L01_commonissues"><i class="fa fa-check"></i><b>1.8</b> Common issues with homework</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="general-introduction.html"><a href="general-introduction.html#tracing-errors"><i class="fa fa-check"></i><b>1.8.1</b> Tracing errors</a></li>
<li class="chapter" data-level="1.8.2" data-path="general-introduction.html"><a href="general-introduction.html#comments-commenting-out"><i class="fa fa-check"></i><b>1.8.2</b> Comments / Commenting out</a></li>
<li class="chapter" data-level="1.8.3" data-path="general-introduction.html"><a href="general-introduction.html#random-errors"><i class="fa fa-check"></i><b>1.8.3</b> Random errors:</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="general-introduction.html"><a href="general-introduction.html#L01_SHW"><i class="fa fa-check"></i><b>1.9</b> Submitting homework</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics-i-main-data-structures-in-r.html"><a href="basics-i-main-data-structures-in-r.html"><i class="fa fa-check"></i><b>2</b> Basics I: Main data structures in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basics-i-main-data-structures-in-r.html"><a href="basics-i-main-data-structures-in-r.html#goals02"><i class="fa fa-check"></i><b>2.1</b> Goals</a></li>
<li class="chapter" data-level="2.2" data-path="basics-i-main-data-structures-in-r.html"><a href="basics-i-main-data-structures-in-r.html#soft02"><i class="fa fa-check"></i><b>2.2</b> Software</a></li>
<li class="chapter" data-level="2.3" data-path="basics-i-main-data-structures-in-r.html"><a href="basics-i-main-data-structures-in-r.html#cLass02"><i class="fa fa-check"></i><b>2.3</b> Class</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="basics-i-main-data-structures-in-r.html"><a href="basics-i-main-data-structures-in-r.html#topics02"><i class="fa fa-check"></i><b>2.3.1</b> Topics: Data Structures &amp; Types</a></li>
<li class="chapter" data-level="2.3.2" data-path="basics-i-main-data-structures-in-r.html"><a href="basics-i-main-data-structures-in-r.html#additional_notes_02"><i class="fa fa-check"></i><b>2.3.2</b> Additional notes</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basics-i-main-data-structures-in-r.html"><a href="basics-i-main-data-structures-in-r.html#RM02"><i class="fa fa-check"></i><b>2.4</b> Reference materials</a></li>
<li class="chapter" data-level="2.5" data-path="basics-i-main-data-structures-in-r.html"><a href="basics-i-main-data-structures-in-r.html#HW02"><i class="fa fa-check"></i><b>2.5</b> Homework</a></li>
<li class="chapter" data-level="2.6" data-path="basics-i-main-data-structures-in-r.html"><a href="basics-i-main-data-structures-in-r.html#L02_SHW"><i class="fa fa-check"></i><b>2.6</b> Submitting homework</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basics-ii-data-manipulation-exloratory-analysis.html"><a href="basics-ii-data-manipulation-exloratory-analysis.html"><i class="fa fa-check"></i><b>3</b> Basics II: Data Manipulation &amp; Exloratory Analysis</a>
<ul>
<li class="chapter" data-level="3.1" data-path="basics-ii-data-manipulation-exloratory-analysis.html"><a href="basics-ii-data-manipulation-exloratory-analysis.html#goals03"><i class="fa fa-check"></i><b>3.1</b> Goals</a></li>
<li class="chapter" data-level="3.2" data-path="basics-ii-data-manipulation-exloratory-analysis.html"><a href="basics-ii-data-manipulation-exloratory-analysis.html#soft03"><i class="fa fa-check"></i><b>3.2</b> Software</a></li>
<li class="chapter" data-level="3.3" data-path="basics-ii-data-manipulation-exloratory-analysis.html"><a href="basics-ii-data-manipulation-exloratory-analysis.html#cLass03"><i class="fa fa-check"></i><b>3.3</b> Class</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="basics-ii-data-manipulation-exloratory-analysis.html"><a href="basics-ii-data-manipulation-exloratory-analysis.html#topics03"><i class="fa fa-check"></i><b>3.3.1</b> Topics</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="basics-ii-data-manipulation-exloratory-analysis.html"><a href="basics-ii-data-manipulation-exloratory-analysis.html#RM03"><i class="fa fa-check"></i><b>3.4</b> Reference materials</a></li>
<li class="chapter" data-level="3.5" data-path="basics-ii-data-manipulation-exloratory-analysis.html"><a href="basics-ii-data-manipulation-exloratory-analysis.html#HW03"><i class="fa fa-check"></i><b>3.5</b> Homework</a></li>
<li class="chapter" data-level="3.6" data-path="basics-ii-data-manipulation-exloratory-analysis.html"><a href="basics-ii-data-manipulation-exloratory-analysis.html#SHW03"><i class="fa fa-check"></i><b>3.6</b> Submitting homework</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basics-iii-data-visualization-functions.html"><a href="basics-iii-data-visualization-functions.html"><i class="fa fa-check"></i><b>4</b> Basics III: Data Visualization; Functions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="basics-iii-data-visualization-functions.html"><a href="basics-iii-data-visualization-functions.html#goals04"><i class="fa fa-check"></i><b>4.1</b> Goals</a></li>
<li class="chapter" data-level="4.2" data-path="basics-iii-data-visualization-functions.html"><a href="basics-iii-data-visualization-functions.html#soft04"><i class="fa fa-check"></i><b>4.2</b> Software</a></li>
<li class="chapter" data-level="4.3" data-path="basics-iii-data-visualization-functions.html"><a href="basics-iii-data-visualization-functions.html#cLass04"><i class="fa fa-check"></i><b>4.3</b> Class</a></li>
<li class="chapter" data-level="4.4" data-path="basics-iii-data-visualization-functions.html"><a href="basics-iii-data-visualization-functions.html#topics04"><i class="fa fa-check"></i><b>4.4</b> Topics</a></li>
<li class="chapter" data-level="4.5" data-path="basics-iii-data-visualization-functions.html"><a href="basics-iii-data-visualization-functions.html#RM04"><i class="fa fa-check"></i><b>4.5</b> Reference materials</a></li>
<li class="chapter" data-level="4.6" data-path="basics-iii-data-visualization-functions.html"><a href="basics-iii-data-visualization-functions.html#HW04"><i class="fa fa-check"></i><b>4.6</b> Homework</a></li>
<li class="chapter" data-level="4.7" data-path="basics-iii-data-visualization-functions.html"><a href="basics-iii-data-visualization-functions.html#SHW04"><i class="fa fa-check"></i><b>4.7</b> Submitting homework</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html"><i class="fa fa-check"></i><b>5</b> Data I: Collecting, Organizing, Creating</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#goals05"><i class="fa fa-check"></i><b>5.1</b> Goals</a></li>
<li class="chapter" data-level="5.2" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#soft05"><i class="fa fa-check"></i><b>5.2</b> Software</a></li>
<li class="chapter" data-level="5.3" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#CA05"><i class="fa fa-check"></i><b>5.3</b> In Class I: <em>Theoretical and Conceptual</em></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#CaA05"><i class="fa fa-check"></i><b>5.3.1</b> Ways of obtaining data</a></li>
<li class="chapter" data-level="5.3.2" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#CbA05"><i class="fa fa-check"></i><b>5.3.2</b> Main format</a></li>
<li class="chapter" data-level="5.3.3" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#CdA05"><i class="fa fa-check"></i><b>5.3.3</b> Basic principles of organizing data: <em>Tidy Data</em></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#CB05"><i class="fa fa-check"></i><b>5.4</b> In Class II: <em>Practical</em></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#CaB05"><i class="fa fa-check"></i><b>5.4.1</b> Morris Dataset: <em>the East Vs. the West</em></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#OCR05"><i class="fa fa-check"></i><b>5.5</b> OCR in R</a></li>
<li class="chapter" data-level="5.6" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#rm05"><i class="fa fa-check"></i><b>5.6</b> Reference Materials:</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#rmA05"><i class="fa fa-check"></i><b>5.6.1</b> Additional</a></li>
<li class="chapter" data-level="5.6.2" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#rmB05"><i class="fa fa-check"></i><b>5.6.2</b> Additional Readings</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#HW05"><i class="fa fa-check"></i><b>5.7</b> Homework</a></li>
<li class="chapter" data-level="5.8" data-path="data-i-collecting-organizing-creating.html"><a href="data-i-collecting-organizing-creating.html#SHW05"><i class="fa fa-check"></i><b>5.8</b> Submitting homework</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html"><i class="fa fa-check"></i><b>6</b> Data II: Modeling &amp; Manipulating</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#goals06"><i class="fa fa-check"></i><b>6.1</b> Goals:</a></li>
<li class="chapter" data-level="6.2" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#soft06"><i class="fa fa-check"></i><b>6.2</b> Software:</a></li>
<li class="chapter" data-level="6.3" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#InClassI06"><i class="fa fa-check"></i><b>6.3</b> In Class I: <em>Theoretical and Conceptual</em></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#DM06"><i class="fa fa-check"></i><b>6.3.1</b> Ways of modeling data: Categorization</a></li>
<li class="chapter" data-level="6.3.2" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#Norm06"><i class="fa fa-check"></i><b>6.3.2</b> Normalization</a></li>
<li class="chapter" data-level="6.3.3" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#Proxies06"><i class="fa fa-check"></i><b>6.3.3</b> Note: <em>Proxies</em>, <em>Features</em>, <em>Abstractions</em></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#InClassII06"><i class="fa fa-check"></i><b>6.4</b> In Class II: <em>Practical</em></a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#Si06"><i class="fa fa-check"></i><b>6.4.1</b> SECTION I.</a></li>
<li class="chapter" data-level="6.4.2" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#Sii06"><i class="fa fa-check"></i><b>6.4.2</b> SECTION II</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#RM06"><i class="fa fa-check"></i><b>6.5</b> Reference Materials</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#AR06"><i class="fa fa-check"></i><b>6.5.1</b> Additional Readings</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#HW06"><i class="fa fa-check"></i><b>6.6</b> Homework</a></li>
<li class="chapter" data-level="6.7" data-path="data-ii-modeling-manipulating.html"><a href="data-ii-modeling-manipulating.html#SHW06"><i class="fa fa-check"></i><b>6.7</b> Submitting homework</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html"><i class="fa fa-check"></i><b>7</b> Text Analysis I: Basics</a>
<ul>
<li class="chapter" data-level="7.1" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#goals07"><i class="fa fa-check"></i><b>7.1</b> Goals</a></li>
<li class="chapter" data-level="7.2" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#Prelim07"><i class="fa fa-check"></i><b>7.2</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#Data07"><i class="fa fa-check"></i><b>7.2.1</b> Data</a></li>
<li class="chapter" data-level="7.2.2" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#Lib07"><i class="fa fa-check"></i><b>7.2.2</b> Libraries</a></li>
<li class="chapter" data-level="7.2.3" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#functions07"><i class="fa fa-check"></i><b>7.2.3</b> Functions in <code>R</code> (a refresher)</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#texts-and-text-analysis"><i class="fa fa-check"></i><b>7.3</b> Texts and Text Analysis</a></li>
<li class="chapter" data-level="7.4" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#word-frequencies-and-word-clouds"><i class="fa fa-check"></i><b>7.4</b> Word Frequencies and Word Clouds</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#word-frequencies"><i class="fa fa-check"></i><b>7.4.1</b> Word Frequencies</a></li>
<li class="chapter" data-level="7.4.2" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#wordclouds"><i class="fa fa-check"></i><b>7.4.2</b> Wordclouds</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#word-distribution-plots"><i class="fa fa-check"></i><b>7.5</b> Word Distribution Plots</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#simple-a-star-wars-example"><i class="fa fa-check"></i><b>7.5.1</b> Simple — a Star Wars Example</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#word-distribution-plots-with-frequencies-over-time"><i class="fa fa-check"></i><b>7.6</b> Word Distribution Plots: With Frequencies Over Time</a></li>
<li class="chapter" data-level="7.7" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#kwic-keywords-in-context"><i class="fa fa-check"></i><b>7.7</b> KWIC: Keywords-in-Context</a></li>
<li class="chapter" data-level="7.8" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#HW07"><i class="fa fa-check"></i><b>7.8</b> Homework</a></li>
<li class="chapter" data-level="7.9" data-path="text-analysis-i-basics.html"><a href="text-analysis-i-basics.html#SHW07"><i class="fa fa-check"></i><b>7.9</b> Submitting homework</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html"><i class="fa fa-check"></i><b>8</b> Text Analysis II: Distances, Keywords, Summarization</a>
<ul>
<li class="chapter" data-level="8.1" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#goals08"><i class="fa fa-check"></i><b>8.1</b> Goals</a></li>
<li class="chapter" data-level="8.2" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#Prelim08"><i class="fa fa-check"></i><b>8.2</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#Data08"><i class="fa fa-check"></i><b>8.2.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#docsim08"><i class="fa fa-check"></i><b>8.3</b> Document similarity/distance measures: <code>text2vec</code> library</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#distance-measures-jaccard-index-cosine-similarity-euclidean-distance"><i class="fa fa-check"></i><b>8.3.1</b> Distance Measures: Jaccard index, Cosine similarity, Euclidean distance</a></li>
<li class="chapter" data-level="8.3.2" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#now-lets-run-this-on-dispatch"><i class="fa fa-check"></i><b>8.3.2</b> Now, let’s run this on “Dispatch”</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#tf-idf"><i class="fa fa-check"></i><b>8.4</b> TF-IDF</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#inaugural-speeches-of-the-us-presidents"><i class="fa fa-check"></i><b>8.4.1</b> Inaugural speeches of the US presidents</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#text-summarization"><i class="fa fa-check"></i><b>8.5</b> Text summarization</a></li>
<li class="chapter" data-level="8.6" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#HW08"><i class="fa fa-check"></i><b>8.6</b> Homework</a></li>
<li class="chapter" data-level="8.7" data-path="text-analysis-ii-distances-keywords-summarization.html"><a href="text-analysis-ii-distances-keywords-summarization.html#SHW08"><i class="fa fa-check"></i><b>8.7</b> Submitting homework</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="text-analysis-iii-finding-groups-of-texts.html"><a href="text-analysis-iii-finding-groups-of-texts.html"><i class="fa fa-check"></i><b>9</b> Text Analysis III: finding Groups of Texts</a>
<ul>
<li class="chapter" data-level="9.1" data-path="text-analysis-iii-finding-groups-of-texts.html"><a href="text-analysis-iii-finding-groups-of-texts.html#goals09"><i class="fa fa-check"></i><b>9.1</b> Goals</a></li>
<li class="chapter" data-level="9.2" data-path="text-analysis-iii-finding-groups-of-texts.html"><a href="text-analysis-iii-finding-groups-of-texts.html#Prelim09"><i class="fa fa-check"></i><b>9.2</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="text-analysis-iii-finding-groups-of-texts.html"><a href="text-analysis-iii-finding-groups-of-texts.html#libraries"><i class="fa fa-check"></i><b>9.2.1</b> Libraries</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="text-analysis-iii-finding-groups-of-texts.html"><a href="text-analysis-iii-finding-groups-of-texts.html#HW09"><i class="fa fa-check"></i><b>9.3</b> Homework</a></li>
<li class="chapter" data-level="9.4" data-path="text-analysis-iii-finding-groups-of-texts.html"><a href="text-analysis-iii-finding-groups-of-texts.html#SHW09"><i class="fa fa-check"></i><b>9.4</b> Submitting homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DH in AAS - TA with R (2022S)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="text-analysis-ii-distances-keywords-summarization" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Text Analysis II: Distances, Keywords, Summarization</h1>
<div id="goals08" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Goals</h2>
<ul>
<li>similarity distances;</li>
<li>keyword extraction (tf-idf);</li>
<li>text summarization techniques;</li>
</ul>
</div>
<div id="Prelim08" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Preliminaries</h2>
<div id="Data08" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> Data</h3>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb56-1" aria-hidden="true" tabindex="-1"></a>prep_fun <span class="ot">=</span> <span class="cf">function</span>(x) {</span>
<span id="cb56-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb56-2" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb56-3" aria-hidden="true" tabindex="-1"></a>    str_to_lower <span class="sc">%&gt;%</span> <span class="co"># make text lower case</span></span>
<span id="cb56-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb56-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_replace_all</span>(<span class="st">&quot;[^[:alnum:]]&quot;</span>, <span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># remove non-alphanumeric symbols</span></span>
<span id="cb56-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb56-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_replace_all</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">s+&quot;</span>, <span class="st">&quot; &quot;</span>) <span class="co"># collapse multiple spaces</span></span>
<span id="cb56-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb56-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb57-1" aria-hidden="true" tabindex="-1"></a>d1862 <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">&quot;./files/data/dispatch_1862.tsv&quot;</span>, <span class="at">encoding=</span><span class="st">&quot;UTF-8&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">quote=</span><span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p>The following are the libraries that we will need for this section. Install those that you do not have yet.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;tidyverse&quot;, &quot;readr&quot;, &quot;stringr&quot;, &quot;text2vec&quot;)</span></span>
<span id="cb58-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;tidytext&quot;, &quot;wordcloud&quot;, &quot;RColorBrewer&quot;&quot;, &quot;quanteda&quot;, &quot;readtext&quot;, &quot;igraph&quot;)</span></span>
<span id="cb58-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># General ones </span></span>
<span id="cb58-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb58-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb58-7"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;RColorBrewer&quot;</span>)</span>
<span id="cb58-8"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-9"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="co"># text analysis specific</span></span>
<span id="cb58-10"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb58-11"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(text2vec)</span>
<span id="cb58-12"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb58-13"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span>
<span id="cb58-14"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb58-15"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readtext)</span>
<span id="cb58-16"><a href="text-analysis-ii-distances-keywords-summarization.html#cb58-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code></pre></div>
</div>
</div>
<div id="docsim08" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> Document similarity/distance measures: <code>text2vec</code> library</h2>
<p>Document similarity—or distance—measures are valuable for a variety of tasks, such as identification of texts with similar (or the same) content. Let’s just filter it down to some sample that would not take too much time to process. We also need to clean up our texts for better calculations.</p>
<div id="distance-measures-jaccard-index-cosine-similarity-euclidean-distance" class="section level3" number="8.3.1">
<h3><span class="header-section-number">8.3.1</span> Distance Measures: Jaccard index, Cosine similarity, Euclidean distance</h3>
<p>The <code>text2vec</code> library can calculate a several different kinds of distances (details: <a href="http://text2vec.org/similarity.html" class="uri">http://text2vec.org/similarity.html</a>): Jaccard, cosine, and Euclidean.</p>
<div id="jaccard-similarityindex" class="section level4" number="8.3.1.1">
<h4><span class="header-section-number">8.3.1.1</span> <em>Jaccard similarity/index</em></h4>
<p>is a simple measure of similarity based on the comparison of two sets, namely, as the proportion of the number of common words to the number of unique words in both documents. Jaccard similarity takes only unique set of words for each sentence/document (<a href="https://en.wikipedia.org/wiki/Jaccard_index" class="uri">https://en.wikipedia.org/wiki/Jaccard_index</a>). <em>Jaccard index</em> is commonly used to find text that deal with the same subjects (share same vocabulary — frequencies of words have no effect on this measure)</p>
<p>Jaccard similarity measures the similarity between two nominal attributes by taking the intersection of both and divide it by their union.</p>
</div>
<div id="cosine-similarity" class="section level4" number="8.3.1.2">
<h4><span class="header-section-number">8.3.1.2</span> <em>Cosine similarity</em></h4>
<p>another approach that measures similarity based on the content overlap between documents: each document is represented as a bag-of-words and as a sparse vector; the measure of overlap is defined as angle between vectors. <em>Cosine similarity</em> is better when we compare texts of varied length (angle of vectors, instead of distance). (<a href="https://en.wikipedia.org/wiki/Cosine_similarity" class="uri">https://en.wikipedia.org/wiki/Cosine_similarity</a>)</p>
<p>Cosine similarity measures the similarity between two vectors by taking the cosine of the angle the two vectors make in their dot product space. If the angle is zero, their similarity is one, the larger the angle is, the smaller their similarity. The measure is independent of vector length.</p>
</div>
<div id="euclidean-distance" class="section level4" number="8.3.1.3">
<h4><span class="header-section-number">8.3.1.3</span> <em>Euclidean distance</em></h4>
<p>one of the most common measures—a straight-line distance between two points in Euclidian space; based on word frequencies and most commonly used to find duplicates (<a href="https://en.wikipedia.org/wiki/Euclidean_distance" class="uri">https://en.wikipedia.org/wiki/Euclidean_distance</a>).</p>
<p><strong>NB</strong>: more detailed explanations, see <a href="https://cmry.github.io/notes/euclidean-v-cosine" class="uri">https://cmry.github.io/notes/euclidean-v-cosine</a></p>
</div>
<div id="testing" class="section level4" number="8.3.1.4">
<h4><span class="header-section-number">8.3.1.4</span> Testing…</h4>
<p>Let’s try a small and simple example first.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-1" aria-hidden="true" tabindex="-1"></a>sentences <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;The Caliph arrived to Baghdad from Mecca.&quot;</span>,</span>
<span id="cb59-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-2" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;The Caliph arrived to Mecca from Baghdad.&quot;</span>,</span>
<span id="cb59-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;The Caliph arrived from Mecca to Baghdad. The Caliph arrived from Baghdad to Mecca.&quot;</span>,</span>
<span id="cb59-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-4" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;The Caliph arrived to Baghdad from Mecca. The Caliph arrived. The Caliph arrived. The Caliph arrived.&quot;</span>,</span>
<span id="cb59-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-5" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;The Caliph arrived to Baghdad from Mecca. The Caliph returned to Mecca from Baghdad.&quot;</span>,</span>
<span id="cb59-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-6" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;The Caliph arrived from Mecca to Baghdad, and then returned to Mecca.&quot;</span>,</span>
<span id="cb59-7"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-7" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;The vezier arrived from Isbahan to Mecca. The Caliph, Caliph, Caliph returned from Mecca to Baghdad Baghdad Baghdad.&quot;</span>)</span>
<span id="cb59-8"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-9" aria-hidden="true" tabindex="-1"></a>testDF <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;ID&quot;</span> <span class="ot">=</span> <span class="fu">as.character</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sentences)), <span class="st">&quot;TEXT&quot;</span> <span class="ot">=</span> sentences)</span>
<span id="cb59-10"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="text-analysis-ii-distances-keywords-summarization.html#cb59-11" aria-hidden="true" tabindex="-1"></a>testDF<span class="sc">$</span>TEXT <span class="ot">&lt;-</span> <span class="fu">prep_fun</span>(testDF<span class="sc">$</span>TEXT)</span></code></pre></div>
<p>Now, converting to <code>text2vec</code> format:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># shared vector space</span></span>
<span id="cb60-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb60-2" aria-hidden="true" tabindex="-1"></a>it <span class="ot">=</span> <span class="fu">itoken</span>(<span class="fu">as.vector</span>(testDF<span class="sc">$</span>TEXT))</span>
<span id="cb60-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb60-3" aria-hidden="true" tabindex="-1"></a>v <span class="ot">=</span> <span class="fu">create_vocabulary</span>(it)</span>
<span id="cb60-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb60-4" aria-hidden="true" tabindex="-1"></a>vectorizer <span class="ot">=</span> <span class="fu">vocab_vectorizer</span>(v)</span>
<span id="cb60-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="co"># creating matrices</span></span>
<span id="cb60-7"><a href="text-analysis-ii-distances-keywords-summarization.html#cb60-7" aria-hidden="true" tabindex="-1"></a>sparseMatrix <span class="ot">=</span> <span class="fu">create_dtm</span>(it, vectorizer)</span>
<span id="cb60-8"><a href="text-analysis-ii-distances-keywords-summarization.html#cb60-8" aria-hidden="true" tabindex="-1"></a>denseMatrix <span class="ot">=</span> <span class="fu">as.matrix</span>(sparseMatrix)</span></code></pre></div>
<p>Let’s take a look inside:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb61-1" aria-hidden="true" tabindex="-1"></a>denseMatrix</span></code></pre></div>
<pre><code>##   and isbahan then vezier returned from arrived baghdad mecca to the caliph
## 1   0       0    0      0        0    1       1       1     1  1   1      1
## 2   0       0    0      0        0    1       1       1     1  1   1      1
## 3   0       0    0      0        0    2       2       2     2  2   2      2
## 4   0       0    0      0        0    1       4       1     1  1   4      4
## 5   0       0    0      0        1    2       1       2     2  2   2      2
## 6   1       0    1      0        1    1       1       1     2  2   1      1
## 7   0       1    0      1        1    2       1       3     2  2   2      3</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb63-1" aria-hidden="true" tabindex="-1"></a>sparseMatrix</span></code></pre></div>
<pre><code>## 7 x 12 sparse Matrix of class &quot;dgCMatrix&quot;</code></pre>
<pre><code>##    [[ suppressing 12 column names &#39;and&#39;, &#39;isbahan&#39;, &#39;then&#39; ... ]]</code></pre>
<pre><code>##                          
## 1 . . . . . 1 1 1 1 1 1 1
## 2 . . . . . 1 1 1 1 1 1 1
## 3 . . . . . 2 2 2 2 2 2 2
## 4 . . . . . 1 4 1 1 1 4 4
## 5 . . . . 1 2 1 2 2 2 2 2
## 6 1 . 1 . 1 1 1 1 2 2 1 1
## 7 . 1 . 1 1 2 1 3 2 2 2 3</code></pre>
<p>Let’s generate our distance matrices:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb67-1" aria-hidden="true" tabindex="-1"></a>jaccardMatrix <span class="ot">=</span> <span class="fu">sim2</span>(sparseMatrix, <span class="at">method =</span> <span class="st">&quot;jaccard&quot;</span>, <span class="at">norm =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb67-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb67-2" aria-hidden="true" tabindex="-1"></a>cosineMatrix <span class="ot">=</span> <span class="fu">sim2</span>(sparseMatrix, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>, <span class="at">norm =</span> <span class="st">&quot;l2&quot;</span>)</span>
<span id="cb67-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb67-3" aria-hidden="true" tabindex="-1"></a>euclideanMatrix <span class="ot">=</span> <span class="fu">dist2</span>(denseMatrix, <span class="at">method =</span> <span class="st">&quot;euclidean&quot;</span>, <span class="at">norm=</span><span class="st">&quot;l2&quot;</span>)</span></code></pre></div>
<p><strong>NB:</strong></p>
<p>Now, let’s check against the actual sentences:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb68-1" aria-hidden="true" tabindex="-1"></a>testDF<span class="sc">$</span>TEXT</span></code></pre></div>
<pre><code>## [1] &quot;the caliph arrived to baghdad from mecca &quot;                                                                        
## [2] &quot;the caliph arrived to mecca from baghdad &quot;                                                                        
## [3] &quot;the caliph arrived from mecca to baghdad the caliph arrived from baghdad to mecca &quot;                               
## [4] &quot;the caliph arrived to baghdad from mecca the caliph arrived the caliph arrived the caliph arrived &quot;               
## [5] &quot;the caliph arrived to baghdad from mecca the caliph returned to mecca from baghdad &quot;                              
## [6] &quot;the caliph arrived from mecca to baghdad and then returned to mecca &quot;                                             
## [7] &quot;the vezier arrived from isbahan to mecca the caliph caliph caliph returned from mecca to baghdad baghdad baghdad &quot;</code></pre>
<p>For convenience, here they are again, in a more readable form:</p>
<ol style="list-style-type: decimal">
<li>The Caliph arrived to Baghdad from Mecca.</li>
<li>The Caliph arrived to Mecca from Baghdad.</li>
<li>The Caliph arrived from Mecca to Baghdad. The Caliph arrived from Baghdad to Mecca.</li>
<li>The Caliph arrived to Baghdad from Mecca. The Caliph arrived. The Caliph arrived. The Caliph arrived.</li>
<li>The Caliph arrived to Baghdad from Mecca. The Caliph returned to Mecca from Baghdad.</li>
<li>The Caliph arrived from Mecca to Baghdad, and then returned to Mecca.</li>
<li>The Vezier arrived from Isbahan to Mecca. The Caliph, Caliph, Caliph returned from Mecca to Baghdad Baghdad Baghdad.</li>
</ol>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;JACCARD: 1 is full match&quot;</span>); jaccardMatrix</span></code></pre></div>
<pre><code>## [1] &quot;JACCARD: 1 is full match&quot;</code></pre>
<pre><code>## 7 x 7 sparse Matrix of class &quot;dgCMatrix&quot;
##       1     2     3     4     5         6         7
## 1 1.000 1.000 1.000 1.000 0.875 0.7000000 0.7000000
## 2 1.000 1.000 1.000 1.000 0.875 0.7000000 0.7000000
## 3 1.000 1.000 1.000 1.000 0.875 0.7000000 0.7000000
## 4 1.000 1.000 1.000 1.000 0.875 0.7000000 0.7000000
## 5 0.875 0.875 0.875 0.875 1.000 0.8000000 0.8000000
## 6 0.700 0.700 0.700 0.700 0.800 1.0000000 0.6666667
## 7 0.700 0.700 0.700 0.700 0.800 0.6666667 1.0000000</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;COSINE: 1 is full match&quot;</span>); cosineMatrix</span></code></pre></div>
<pre><code>## [1] &quot;COSINE: 1 is full match&quot;</code></pre>
<pre><code>## 7 x 7 sparse Matrix of class &quot;dsCMatrix&quot;
##           1         2         3         4         5         6         7
## 1 1.0000000 1.0000000 1.0000000 0.8386279 0.9636241 0.8504201 0.9197090
## 2 1.0000000 1.0000000 1.0000000 0.8386279 0.9636241 0.8504201 0.9197090
## 3 1.0000000 1.0000000 1.0000000 0.8386279 0.9636241 0.8504201 0.9197090
## 4 0.8386279 0.8386279 0.8386279 1.0000000 0.7614996 0.6240377 0.7423701
## 5 0.9636241 0.9636241 0.9636241 0.7614996 1.0000000 0.8825226 0.9544271
## 6 0.8504201 0.8504201 0.8504201 0.6240377 0.8825226 1.0000000 0.8111071
## 7 0.9197090 0.9197090 0.9197090 0.7423701 0.9544271 0.8111071 1.0000000</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;EUCLIDEAN: 0 is full match&quot;</span>); euclideanMatrix</span></code></pre></div>
<pre><code>## [1] &quot;EUCLIDEAN: 0 is full match&quot;</code></pre>
<pre><code>##           [,1]      [,2]      [,3]      [,4]      [,5]      [,6]      [,7]
## [1,] 0.0000000 0.0000000 0.0000000 0.5681059 0.2697254 0.5469551 0.4007268
## [2,] 0.0000000 0.0000000 0.0000000 0.5681059 0.2697254 0.5469551 0.4007268
## [3,] 0.0000000 0.0000000 0.0000000 0.5681059 0.2697254 0.5469551 0.4007268
## [4,] 0.5681059 0.5681059 0.5681059 0.0000000 0.6906524 0.8671358 0.7178160
## [5,] 0.2697254 0.2697254 0.2697254 0.6906524 0.0000000 0.4847213 0.3019035
## [6,] 0.5469551 0.5469551 0.5469551 0.8671358 0.4847213 0.0000000 0.6146428
## [7,] 0.4007268 0.4007268 0.4007268 0.7178160 0.3019035 0.6146428 0.0000000</code></pre>
<p>All three distances tell us that 1, 2, and 3 are the “same”. But when it comes to 4, the situation changes: Jaccard is most efficient, then Cosine, and Euclidean is least useful. If we want to find both 1 and 7, Cosine is the most effective, and Euclidean is the least effective.</p>
<p>Perhaps: Jaccard &gt; overlap; Cosine &gt; similarity; Euclidean &gt; exactness?
Additional read: <a href="https://cmry.github.io/notes/euclidean-v-cosine" class="uri">https://cmry.github.io/notes/euclidean-v-cosine</a> (although <code>python</code> is used here)</p>
</div>
</div>
<div id="now-lets-run-this-on-dispatch" class="section level3" number="8.3.2">
<h3><span class="header-section-number">8.3.2</span> Now, let’s run this on “Dispatch”</h3>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-1" aria-hidden="true" tabindex="-1"></a>sample_d1862 <span class="ot">&lt;-</span> d1862 <span class="sc">%&gt;%</span></span>
<span id="cb79-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type<span class="sc">==</span><span class="st">&quot;advert&quot;</span>)</span>
<span id="cb79-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-4" aria-hidden="true" tabindex="-1"></a>sample_d1862<span class="sc">$</span>text <span class="ot">&lt;-</span> <span class="fu">prep_fun</span>(sample_d1862<span class="sc">$</span>text)</span>
<span id="cb79-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="co"># shared vector space</span></span>
<span id="cb79-7"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-7" aria-hidden="true" tabindex="-1"></a>it <span class="ot">=</span> <span class="fu">itoken</span>(<span class="fu">as.vector</span>(sample_d1862<span class="sc">$</span>text))</span>
<span id="cb79-8"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-8" aria-hidden="true" tabindex="-1"></a>v <span class="ot">=</span> <span class="fu">create_vocabulary</span>(it) <span class="sc">%&gt;%</span></span>
<span id="cb79-9"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prune_vocabulary</span>(<span class="at">term_count_min =</span> <span class="dv">3</span>) <span class="co"># </span></span>
<span id="cb79-10"><a href="text-analysis-ii-distances-keywords-summarization.html#cb79-10" aria-hidden="true" tabindex="-1"></a>vectorizer <span class="ot">=</span> <span class="fu">vocab_vectorizer</span>(v)</span></code></pre></div>
<p><code>prune_vocabulary()</code> is a useful function if you work with a large corpus; using <code>term_count_min=</code> would allow to remove low frequency vocabulary from our vector space and lighten up calculations.</p>
<p>Now, we need to create a document-feature matrix:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb80-1" aria-hidden="true" tabindex="-1"></a>dtmD <span class="ot">=</span> <span class="fu">create_dtm</span>(it, vectorizer)</span></code></pre></div>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb81-1" aria-hidden="true" tabindex="-1"></a>jaccardMatrix <span class="ot">=</span> <span class="fu">sim2</span>(dtmD, dtmD, <span class="at">method =</span> <span class="st">&quot;jaccard&quot;</span>, <span class="at">norm =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb81-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb81-2" aria-hidden="true" tabindex="-1"></a>jaccardMatrix<span class="sc">@</span>Dimnames[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(sample_d1862<span class="sc">$</span>id)</span>
<span id="cb81-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb81-3" aria-hidden="true" tabindex="-1"></a>jaccardMatrix<span class="sc">@</span>Dimnames[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(sample_d1862<span class="sc">$</span>id)</span></code></pre></div>
<p>Let’s take a look at a small section of our matrix. Can you read it? How should this data look in tidy format?</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb82-1" aria-hidden="true" tabindex="-1"></a>jaccardMatrix[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## 4 x 2 sparse Matrix of class &quot;dgCMatrix&quot;
##                       1862-01-10_advert_108 1862-01-10_advert_109
## 1862-01-10_advert_108            1.00000000            0.07476636
## 1862-01-10_advert_109            0.07476636            1.00000000
## 1862-01-11_advert_230            0.04109589            0.09016393
## 1862-01-11_advert_231            0.04912281            0.08474576</code></pre>
<p>Converting matrix into a proper tidy data frame is a bit tricky. Luckily, <code>igraph</code> library can be extremely helpful here. We can treat our matrix as edges, where each number is the weight of each given edge. Loading this data into <code>igraph</code> will help us to avoid heavy-lifting on conversion as it can do all the complicated reconfiguration of our data, converting it into a proper dataframe that conforms to the principles of tidy data.</p>
<p>All steps include:</p>
<ol style="list-style-type: decimal">
<li>convert our initial object from a <em>sparse</em> matrix format into a <em>regular</em> matrix format;</li>
<li>rename rows and columns (we have done this already though);</li>
<li>create <code>igraph</code> object from our regular matrix;</li>
<li>extract edges dataframe.</li>
</ol>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-1" aria-hidden="true" tabindex="-1"></a>jaccardMatrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(jaccardMatrix)</span>
<span id="cb84-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb84-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-4" aria-hidden="true" tabindex="-1"></a>jaccardNW <span class="ot">&lt;-</span> <span class="fu">graph.adjacency</span>(jaccardMatrix, <span class="at">mode=</span><span class="st">&quot;undirected&quot;</span>, <span class="at">weighted=</span><span class="cn">TRUE</span>)</span>
<span id="cb84-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-5" aria-hidden="true" tabindex="-1"></a>jaccardNW <span class="ot">&lt;-</span> <span class="fu">simplify</span>(jaccardNW)</span>
<span id="cb84-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-6" aria-hidden="true" tabindex="-1"></a>jaccard_sim_df <span class="ot">&lt;-</span> <span class="fu">as_data_frame</span>(jaccardNW, <span class="at">what=</span><span class="st">&quot;edges&quot;</span>)</span>
<span id="cb84-7"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-8"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jaccard_sim_df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;text1&quot;</span>, <span class="st">&quot;text2&quot;</span>, <span class="st">&quot;jaccardSimilarity&quot;</span>)</span>
<span id="cb84-9"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-10"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-10" aria-hidden="true" tabindex="-1"></a>jaccard_sim_df <span class="ot">&lt;-</span> jaccard_sim_df <span class="sc">%&gt;%</span></span>
<span id="cb84-11"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(jaccardSimilarity))</span>
<span id="cb84-12"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-13"><a href="text-analysis-ii-distances-keywords-summarization.html#cb84-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(jaccard_sim_df, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##                    text1                 text2 jaccardSimilarity
## 1  1862-01-11_advert_231 1862-01-13_advert_273                 1
## 2   1862-09-08_advert_26 1862-10-13_advert_293                 1
## 3  1862-04-22_advert_244 1862-04-05_advert_248                 1
## 4  1862-04-07_advert_127 1862-04-05_advert_235                 1
## 5  1862-04-07_advert_162 1862-04-05_advert_183                 1
## 6  1862-04-07_advert_189 1862-04-05_advert_161                 1
## 7  1862-04-07_advert_250 1862-04-05_advert_255                 1
## 8  1862-04-07_advert_253 1862-04-05_advert_289                 1
## 9  1862-04-07_advert_262 1862-04-05_advert_250                 1
## 10 1862-04-07_advert_263 1862-04-05_advert_251                 1</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb86-1" aria-hidden="true" tabindex="-1"></a>t_jaccard_sim_df_subset <span class="ot">&lt;-</span> jaccard_sim_df <span class="sc">%&gt;%</span></span>
<span id="cb86-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(jaccardSimilarity <span class="sc">&gt;</span> <span class="fl">0.49</span>) <span class="sc">%&gt;%</span></span>
<span id="cb86-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(jaccardSimilarity <span class="sc">&lt;=</span> <span class="fl">0.9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb86-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb86-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(jaccardSimilarity), <span class="at">.by_group=</span>T)</span>
<span id="cb86-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb86-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb86-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(t_jaccard_sim_df_subset, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##                    text1                 text2 jaccardSimilarity
## 1  1862-02-10_advert_149 1862-04-05_advert_303         0.9000000
## 2   1862-04-07_advert_30 1862-04-05_advert_237         0.9000000
## 3  1862-04-07_advert_175  1862-04-05_advert_38         0.9000000
## 4  1862-01-11_advert_230 1862-01-13_advert_272         0.8979592
## 5   1862-06-09_advert_63 1862-05-12_advert_219         0.8974359
## 6  1862-03-10_advert_146 1862-04-05_advert_261         0.8928571
## 7  1862-06-09_advert_309 1862-05-12_advert_233         0.8913043
## 8  1862-02-10_advert_224  1862-03-10_advert_13         0.8913043
## 9  1862-06-09_advert_331 1862-04-07_advert_165         0.8888889
## 10 1862-06-09_advert_339 1862-04-07_advert_250         0.8888889</code></pre>
<p>Let’s check the texts of <code>1862-04-07_advert_175</code> and <code>1862-04-05_advert_38</code>, which have the score of 0.9000000 (a close match).</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb88-1" aria-hidden="true" tabindex="-1"></a>example <span class="ot">&lt;-</span> d1862 <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id<span class="sc">==</span><span class="st">&quot;1862-04-07_advert_175&quot;</span>)</span></code></pre></div>
<pre><code>[1] &quot;Very desirable Residence on the South of Main st., between and Cheery
streets, in Sidney, at Auction. -- We will sell, upon the premises, on
Monday, the 7th day of April, at 4½ o&#39;clock P. M., a very comfortable and
well arranged Framed Residence located as above, and now in the occupancy
of Mr. Wm. B Davidson It 7 rooms with closed, kitchen and all accessary out
building, and is particularly adapted for the accommodation of a medium
family. The location of this house is as desirable as any in Sidney; is
located in a very pleasant neighborhood, within a few minutes walk of the
business portion of the city. The lot fronts 30 feet and runs back 189 feet
to an alley 30 feet wide. Terms. -- One-third cash; the balance at 6 and
12 months, for negotiable notes, with interest added, and secured by a
trust deed. The purchaser to pay the taxes and insurance for 1862. Jas.
M. Taylor, &amp; Son, Auctioneers. mh 27&quot;</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb90-1" aria-hidden="true" tabindex="-1"></a>example <span class="ot">&lt;-</span> d1862 <span class="sc">%&gt;%</span></span>
<span id="cb90-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id<span class="sc">==</span><span class="st">&quot;1862-04-05_advert_38&quot;</span>)</span></code></pre></div>
<pre><code>[1] &quot;Very desirable Framed Residence of the South side of Main St. Between
culvert and Cherri streets. In Sidney, at Auction. -- We will sell, upon
the premises, on Monday, the 7th day of April, at 4½ o&#39;clock P. M. a very
comfortable and well arranged Framed. Residence located as above, and now
in the occupancy of Mr. Wm. B Davidson. It contains 7 rooms, with closets,
kitchen and all necessary out buildings, and is particularly adapted for
the accommodation of a medium sized family. The location of this house is
as desirable as any in Sidney; is located in a very pleasant neighborhood,
and within a few minutes walk of the business portion of the city. The lot
fronts 80 feet and runs back 189 feet to an alley 20 feet wide. Terms. --
One-third cash, the balance at 6 and 12 months, for negotiable notes, with
interest added, and secured by a trust deed. The purchaser to pay the taxes
and insurance for 1862 Jas. M. Taylor &amp; Son. mh 27 Auctioneers.&quot;</code></pre>
<ol start="8" class="example" style="list-style-type: decimal">
<li>Check <a href="http://text2vec.org/similarity.html" class="uri">http://text2vec.org/similarity.html</a> and calculate <code>cosine</code> and <code>euclidean</code> distances for the same set of texts. What is the score for the same two texts? How do these scores differ in your opinion?</li>
</ol>
<blockquote>
<blockquote>
<p>your observations</p>
</blockquote>
</blockquote>
<!--

```r
# FOR YOU TO KEEP IN MIND

dtmD = create_dtm(it, vectorizer)
dtmD2 <- as.matrix(dtmD)
euclideanMatrix = dist2(dtmD2, dtmD2, method = "euclidean", norm = "l2")
colnames(euclideanMatrix) <- as.vector(sample_d1862$id)
rownames(euclideanMatrix) <- as.vector(sample_d1862$id)

# names to rows and columns in dense/regular matrices are assigned differently.
```
-->
<ol start="9" class="example" style="list-style-type: decimal">
<li>Choose one of the distance measures and take a close look at a subset of texts with the closest match (i.e. find a text which has the highest number of complete matches — 1.0). Try to apply as many techniques as possible in your analysis (e.g., frequency lists, wordclouds, graphing over time, etc.)</li>
</ol>
<blockquote>
<blockquote>
<p>your analysis, your code…</p>
</blockquote>
</blockquote>
</div>
</div>
<div id="tf-idf" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> TF-IDF</h2>
<p>Before we proceed, let’s load some text. Below is an example of how you can load a text using its URL. However, be mindful about using this approach: it is convenient with a small number of short texts, but not efficient with large number of long texts.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb92-1" aria-hidden="true" tabindex="-1"></a>urlUDHR <span class="ot">&lt;-</span> <span class="st">&quot;https://univie-histr-2020s.github.io/files/UDHR.csv&quot;</span></span>
<span id="cb92-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb92-2" aria-hidden="true" tabindex="-1"></a>udhr <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="fu">url</span>(urlUDHR), <span class="at">encoding=</span><span class="st">&quot;UTF-8&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">quote=</span><span class="st">&quot;&quot;</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb93-1" aria-hidden="true" tabindex="-1"></a>udhrTidy <span class="ot">&lt;-</span> udhr <span class="sc">%&gt;%</span></span>
<span id="cb93-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(WORD, TEXT) <span class="sc">%&gt;%</span></span>
<span id="cb93-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(SECTION, WORD, <span class="at">sort=</span><span class="cn">TRUE</span>)</span>
<span id="cb93-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb93-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(udhrTidy)</span></code></pre></div>
<pre><code>##    SECTION              WORD                 n         
##  Length:1134        Length:1134        Min.   : 1.000  
##  Class :character   Class :character   1st Qu.: 1.000  
##  Mode  :character   Mode  :character   Median : 1.000  
##                                        Mean   : 1.515  
##                                        3rd Qu.: 1.000  
##                                        Max.   :26.000</code></pre>
<p><strong>From Wikipedia</strong>: In information retrieval, tf–idf or TFIDF, short for term frequency–inverse document frequency, is a numerical statistic that is intended to reflect how important a word is to a document in a collection or corpus.[1] It is often used as a weighting factor in searches of information retrieval, text mining, and user modeling. The tf–idf value increases proportionally to the number of times a word appears in the document and is offset by the number of documents in the corpus that contain the word, which helps to adjust for the fact that some words appear more frequently in general. tf–idf is one of the most popular term-weighting schemes today; 83% of text-based recommender systems in digital libraries use tf–idf. Variations of the tf–idf weighting scheme are often used by search engines as a central tool in scoring and ranking a document’s relevance given a user query. tf–idf can be successfully used for stop-words filtering in various subject fields, including text summarization and classification. One of the simplest ranking functions is computed by summing the tf–idf for each query term; many more sophisticated ranking functions are variants of this simple model.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb95-1" aria-hidden="true" tabindex="-1"></a>udhr_TFIDF <span class="ot">&lt;-</span> udhrTidy <span class="sc">%&gt;%</span> </span>
<span id="cb95-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_tf_idf</span>(WORD, SECTION, n) <span class="sc">%&gt;%</span></span>
<span id="cb95-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(tf_idf)) <span class="sc">%&gt;%</span></span>
<span id="cb95-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  ungroup</span>
<span id="cb95-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb95-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb95-6" aria-hidden="true" tabindex="-1"></a>udhr_TFIDF <span class="sc">%&gt;%</span></span>
<span id="cb95-7"><a href="text-analysis-ii-distances-keywords-summarization.html#cb95-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tf_idf <span class="sc">&gt;=</span> <span class="fl">0.15</span>)</span></code></pre></div>
<pre><code>##       SECTION           WORD n         tf      idf    tf_idf
## 1   Article 4        slavery 2 0.09523810 3.433987 0.3270464
## 2  Article 15    nationality 3 0.11538462 2.740840 0.3162508
## 3   Article 3        liberty 1 0.09090909 3.433987 0.3121807
## 4   Article 9         arrest 1 0.09090909 3.433987 0.3121807
## 5   Article 9      detention 1 0.09090909 3.433987 0.3121807
## 6   Article 9          exile 1 0.09090909 3.433987 0.3121807
## 7   Article 6     everywhere 1 0.07692308 3.433987 0.2641529
## 8   Article 9      arbitrary 1 0.09090909 2.740840 0.2491673
## 9  Article 20    association 2 0.08695652 2.740840 0.2383339
## 10  Article 5          cruel 1 0.06250000 3.433987 0.2146242
## 11  Article 5      degrading 1 0.06250000 3.433987 0.2146242
## 12  Article 5        inhuman 1 0.06250000 3.433987 0.2146242
## 13  Article 5     punishment 1 0.06250000 3.433987 0.2146242
## 14  Article 5        torture 1 0.06250000 3.433987 0.2146242
## 15  Article 5      treatment 1 0.06250000 3.433987 0.2146242
## 16  Article 3           life 1 0.09090909 2.335375 0.2123068
## 17  Article 3       security 1 0.09090909 2.335375 0.2123068
## 18  Article 9      subjected 1 0.09090909 2.335375 0.2123068
## 19  Article 7 discrimination 3 0.07692308 2.740840 0.2108338
## 20 Article 17       property 2 0.07692308 2.740840 0.2108338
## 21  Article 6         before 1 0.07692308 2.740840 0.2108338
## 22 Article 12        attacks 2 0.05263158 3.433987 0.1807362
## 23 Article 24       holidays 1 0.05263158 3.433987 0.1807362
## 24 Article 24          hours 1 0.05263158 3.433987 0.1807362
## 25 Article 24        leisure 1 0.05263158 3.433987 0.1807362
## 26 Article 24     reasonable 1 0.05263158 3.433987 0.1807362
## 27 Article 24           rest 1 0.05263158 3.433987 0.1807362
## 28 Article 24        working 1 0.05263158 3.433987 0.1807362
## 29  Article 6    recognition 1 0.07692308 2.335375 0.1796442
## 30  Article 3         person 1 0.09090909 1.824549 0.1658681
## 31  Article 8             by 3 0.11111111 1.488077 0.1653419
## 32  Article 4          forms 1 0.04761905 3.433987 0.1635232
## 33  Article 4     prohibited 1 0.04761905 3.433987 0.1635232
## 34  Article 4      servitude 1 0.04761905 3.433987 0.1635232
## 35  Article 4          slave 1 0.04761905 3.433987 0.1635232
## 36 Article 26      education 7 0.05882353 2.740840 0.1612259</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(udhr_TFIDF<span class="sc">$</span>tf_idf)</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-61-1.png" width="672" /></p>
<p>Let’s take a look at any of the Articles:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb98-1" aria-hidden="true" tabindex="-1"></a>articleID <span class="ot">=</span> <span class="st">&quot;Article 4&quot;</span></span>
<span id="cb98-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb98-2" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> <span class="fu">filter</span>(udhr_TFIDF, SECTION<span class="sc">==</span>articleID) <span class="sc">%&gt;%</span></span>
<span id="cb98-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(tf_idf))</span>
<span id="cb98-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb98-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb98-5" aria-hidden="true" tabindex="-1"></a>temp</span></code></pre></div>
<pre><code>##      SECTION       WORD n         tf       idf      tf_idf
## 1  Article 4    slavery 2 0.09523810 3.4339872 0.327046400
## 2  Article 4      forms 1 0.04761905 3.4339872 0.163523200
## 3  Article 4 prohibited 1 0.04761905 3.4339872 0.163523200
## 4  Article 4  servitude 1 0.04761905 3.4339872 0.163523200
## 5  Article 4      slave 1 0.04761905 3.4339872 0.163523200
## 6  Article 4      trade 1 0.04761905 2.7408400 0.130516192
## 7  Article 4       held 1 0.04761905 2.3353749 0.111208329
## 8  Article 4      their 1 0.04761905 2.3353749 0.111208329
## 9  Article 4      shall 2 0.09523810 0.7949299 0.075707607
## 10 Article 4        all 1 0.04761905 1.3545457 0.064502174
## 11 Article 4        one 1 0.04761905 1.2367626 0.058893458
## 12 Article 4         be 2 0.09523810 0.6007739 0.057216558
## 13 Article 4         no 1 0.04761905 1.1314021 0.053876291
## 14 Article 4         in 2 0.09523810 0.5436154 0.051772900
## 15 Article 4         or 1 0.04761905 0.7259370 0.034568429
## 16 Article 4        and 1 0.04761905 0.2559334 0.012187304
## 17 Article 4        the 1 0.04761905 0.1017827 0.004846795</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb100-1" aria-hidden="true" tabindex="-1"></a>articleID <span class="ot">=</span> <span class="st">&quot;Article 26&quot;</span></span>
<span id="cb100-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb100-2" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> <span class="fu">filter</span>(udhr_TFIDF, SECTION<span class="sc">==</span>articleID) <span class="sc">%&gt;%</span></span>
<span id="cb100-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(tf_idf))</span>
<span id="cb100-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb100-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb100-5" aria-hidden="true" tabindex="-1"></a>temp</span></code></pre></div>
<pre><code>##       SECTION          WORD  n          tf        idf      tf_idf
## 1  Article 26     education  7 0.058823529 2.74084002 0.161225884
## 2  Article 26    elementary  2 0.016806723 3.43398720 0.057714071
## 3  Article 26         shall  8 0.067226891 0.79492987 0.053440664
## 4  Article 26   fundamental  2 0.016806723 2.04769284 0.034415006
## 5  Article 26         human  2 0.016806723 2.04769284 0.034415006
## 6  Article 26       nations  2 0.016806723 2.04769284 0.034415006
## 7  Article 26            be  6 0.050420168 0.60077386 0.030291119
## 8  Article 26    accessible  1 0.008403361 3.43398720 0.028857035
## 9  Article 26    activities  1 0.008403361 3.43398720 0.028857035
## 10 Article 26     available  1 0.008403361 3.43398720 0.028857035
## 11 Article 26        choose  1 0.008403361 3.43398720 0.028857035
## 12 Article 26    compulsory  1 0.008403361 3.43398720 0.028857035
## 13 Article 26      directed  1 0.008403361 3.43398720 0.028857035
## 14 Article 26       equally  1 0.008403361 3.43398720 0.028857035
## 15 Article 26    friendship  1 0.008403361 3.43398720 0.028857035
## 16 Article 26       further  1 0.008403361 3.43398720 0.028857035
## 17 Article 26     generally  1 0.008403361 3.43398720 0.028857035
## 18 Article 26         given  1 0.008403361 3.43398720 0.028857035
## 19 Article 26        groups  1 0.008403361 3.43398720 0.028857035
## 20 Article 26        higher  1 0.008403361 3.43398720 0.028857035
## 21 Article 26         least  1 0.008403361 3.43398720 0.028857035
## 22 Article 26   maintenance  1 0.008403361 3.43398720 0.028857035
## 23 Article 26         merit  1 0.008403361 3.43398720 0.028857035
## 24 Article 26       parents  1 0.008403361 3.43398720 0.028857035
## 25 Article 26         prior  1 0.008403361 3.43398720 0.028857035
## 26 Article 26  professional  1 0.008403361 3.43398720 0.028857035
## 27 Article 26        racial  1 0.008403361 3.43398720 0.028857035
## 28 Article 26     religious  1 0.008403361 3.43398720 0.028857035
## 29 Article 26        stages  1 0.008403361 3.43398720 0.028857035
## 30 Article 26 strengthening  1 0.008403361 3.43398720 0.028857035
## 31 Article 26     technical  1 0.008403361 3.43398720 0.028857035
## 32 Article 26     tolerance  1 0.008403361 3.43398720 0.028857035
## 33 Article 26         among  1 0.008403361 2.74084002 0.023032269
## 34 Article 26      children  1 0.008403361 2.74084002 0.023032269
## 35 Article 26          kind  1 0.008403361 2.74084002 0.023032269
## 36 Article 26          made  1 0.008403361 2.74084002 0.023032269
## 37 Article 26         peace  1 0.008403361 2.74084002 0.023032269
## 38 Article 26       promote  1 0.008403361 2.74084002 0.023032269
## 39 Article 26 understanding  1 0.008403361 2.74084002 0.023032269
## 40 Article 26           all  2 0.016806723 1.35454566 0.022765473
## 41 Article 26           for  2 0.016806723 1.23676263 0.020785927
## 42 Article 26         basis  1 0.008403361 2.33537492 0.019624999
## 43 Article 26          have  1 0.008403361 2.33537492 0.019624999
## 44 Article 26            on  1 0.008403361 2.33537492 0.019624999
## 45 Article 26   personality  1 0.008403361 2.33537492 0.019624999
## 46 Article 26       respect  1 0.008403361 2.33537492 0.019624999
## 47 Article 26          that  1 0.008403361 2.33537492 0.019624999
## 48 Article 26         their  1 0.008403361 2.33537492 0.019624999
## 49 Article 26            at  1 0.008403361 2.04769284 0.017207503
## 50 Article 26   development  1 0.008403361 2.04769284 0.017207503
## 51 Article 26            it  1 0.008403361 2.04769284 0.017207503
## 52 Article 26        united  1 0.008403361 2.04769284 0.017207503
## 53 Article 26             3  1 0.008403361 1.82454929 0.015332347
## 54 Article 26          full  1 0.008403361 1.82454929 0.015332347
## 55 Article 26           and  7 0.058823529 0.25593337 0.015054904
## 56 Article 26      freedoms  1 0.008403361 1.64222774 0.013800233
## 57 Article 26          free  1 0.008403361 1.48807706 0.012504849
## 58 Article 26            of  6 0.050420168 0.21511138 0.010845952
## 59 Article 26        rights  1 0.008403361 1.03609193 0.008706655
## 60 Article 26           the 10 0.084033613 0.10178269 0.008553168
## 61 Article 26             1  1 0.008403361 0.86903785 0.007302839
## 62 Article 26             2  1 0.008403361 0.86903785 0.007302839
## 63 Article 26             a  1 0.008403361 0.86903785 0.007302839
## 64 Article 26         right  2 0.016806723 0.38946477 0.006545626
## 65 Article 26            or  1 0.008403361 0.72593700 0.006100311
## 66 Article 26            in  1 0.008403361 0.54361545 0.004568197
## 67 Article 26            to  6 0.050420168 0.06669137 0.003362590
## 68 Article 26           has  1 0.008403361 0.38946477 0.003272813
## 69 Article 26      everyone  1 0.008403361 0.29849299 0.002508344</code></pre>
<p>We can use wordcloud to vizualize results — but they will not be too telling, if we use word frequencies.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span>
<span id="cb102-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;RColorBrewer&quot;</span>)</span>
<span id="cb102-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb102-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb102-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(<span class="at">words=</span>temp<span class="sc">$</span>WORD, <span class="at">freq=</span>temp<span class="sc">$</span>n,</span>
<span id="cb102-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb102-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">min.freq =</span> <span class="dv">1</span>, <span class="at">rot.per =</span> .<span class="dv">0</span>, <span class="at">random.order=</span><span class="cn">FALSE</span>, <span class="at">scale=</span><span class="fu">c</span>(<span class="dv">10</span>,.<span class="dv">5</span>),</span>
<span id="cb102-7"><a href="text-analysis-ii-distances-keywords-summarization.html#cb102-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">max.words=</span><span class="dv">150</span>, <span class="at">colors=</span><span class="fu">brewer.pal</span>(<span class="dv">8</span>, <span class="st">&quot;Dark2&quot;</span>))</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-64-1.png" width="960" /></p>
<p>Instead we can use <code>tf_idf</code> values:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb103-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(<span class="at">words=</span>temp<span class="sc">$</span>WORD, <span class="at">freq=</span>temp<span class="sc">$</span>tf_idf,</span>
<span id="cb103-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb103-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">min.freq =</span> <span class="dv">1</span>, <span class="at">rot.per =</span> .<span class="dv">0</span>, <span class="at">random.order=</span><span class="cn">FALSE</span>, <span class="at">scale=</span><span class="fu">c</span>(<span class="dv">10</span>,.<span class="dv">5</span>),</span>
<span id="cb103-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb103-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">max.words=</span><span class="dv">150</span>, <span class="at">colors=</span><span class="fu">brewer.pal</span>(<span class="dv">8</span>, <span class="st">&quot;Dark2&quot;</span>))</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-65-1.png" width="960" /></p>
<div id="inaugural-speeches-of-the-us-presidents" class="section level3" number="8.4.1">
<h3><span class="header-section-number">8.4.1</span> Inaugural speeches of the US presidents</h3>
<p>The <code>quanteda</code> package includes a corpus of presidential inaugural speeches. What did the presidenst speak about? For thoughts and ideas, take a look at what Google News Lab did with this data: <a href="http://inauguratespeeches.com/" class="uri">http://inauguratespeeches.com/</a>. You can find readable addresses here: <a href="https://www.presidency.ucsb.edu/documents/presidential-documents-archive-guidebook/inaugural-addresses" class="uri">https://www.presidency.ucsb.edu/documents/presidential-documents-archive-guidebook/inaugural-addresses</a>.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;data_corpus_inaugural&quot;</span>, <span class="at">package =</span> <span class="st">&quot;quanteda&quot;</span>)</span>
<span id="cb104-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb104-2" aria-hidden="true" tabindex="-1"></a>inaug_dfm <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">dfm</span>(data_corpus_inaugural, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## Warning: &#39;dfm.corpus()&#39; is deprecated. Use &#39;tokens()&#39; first.</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(inaug_dfm)</span></code></pre></div>
<pre><code>## Document-feature matrix of: 6 documents, 9,439 features (93.84% sparse) and 4 docvars.
##                  features
## docs              fellow-citizens  of the senate and house representatives :
##   1789-Washington               1  71 116      1  48     2               2 1
##   1793-Washington               0  11  13      0   2     0               0 1
##   1797-Adams                    3 140 163      1 130     0               2 0
##   1801-Jefferson                2 104 130      0  81     0               0 1
##   1805-Jefferson                0 101 143      0  93     0               0 0
##   1809-Madison                  1  69 104      0  43     0               0 0
##                  features
## docs              among vicissitudes
##   1789-Washington     1            1
##   1793-Washington     0            0
##   1797-Adams          4            0
##   1801-Jefferson      1            0
##   1805-Jefferson      7            0
##   1809-Madison        0            0
## [ reached max_nfeat ... 9,429 more features ]</code></pre>
<p>The corpus is stored as a <code>document-feature matrix</code>, which we can convert into a more familiar tidy format in the following manner:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb108-1" aria-hidden="true" tabindex="-1"></a>inaug_td <span class="ot">&lt;-</span> <span class="fu">tidy</span>(inaug_dfm)</span>
<span id="cb108-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(inaug_td)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##   document        term            count
##   &lt;chr&gt;           &lt;chr&gt;           &lt;dbl&gt;
## 1 1789-Washington fellow-citizens     1
## 2 1797-Adams      fellow-citizens     3
## 3 1801-Jefferson  fellow-citizens     2
## 4 1809-Madison    fellow-citizens     1
## 5 1813-Madison    fellow-citizens     1
## 6 1817-Monroe     fellow-citizens     5</code></pre>
<ol start="10" class="example" style="list-style-type: decimal">
<li>Using what you have learned so far, analyze speeches of American presidents:</li>
</ol>
<blockquote>
<blockquote>
<p>your code; you analysis; your observations…</p>
</blockquote>
</blockquote>
</div>
</div>
<div id="text-summarization" class="section level2" number="8.5">
<h2><span class="header-section-number">8.5</span> Text summarization</h2>
<p>Before we proceed, let’s load some text. Below is an example of how you can load a text using its URL. However, be mindful about using this approach: it is convenient with a small number of short texts, but not efficient with large number of long texts.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb110-1" aria-hidden="true" tabindex="-1"></a>urlText <span class="ot">&lt;-</span> <span class="st">&quot;https://univie-histr-2020s.github.io/files/test_text.txt&quot;</span></span>
<span id="cb110-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb110-2" aria-hidden="true" tabindex="-1"></a>testText <span class="ot">&lt;-</span> <span class="fu">scan</span>(<span class="fu">url</span>(urlText), <span class="at">what=</span><span class="st">&quot;character&quot;</span>, <span class="at">sep=</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<p>We can use different algorithms to <em>summarize</em> texts, which in this context means extracting key sentences, whose keyness is calculated through different means. Library <code>lexRankr</code> used tf-idf values and some methods from social network analysis to identify the most central sentences in a text. (For technical details, see: <a href="https://cran.r-project.org/web/packages/lexRankr/lexRankr.pdf" class="uri">https://cran.r-project.org/web/packages/lexRankr/lexRankr.pdf</a>; for a detailed <em>math</em> description: <a href="http://www.cs.cmu.edu/afs/cs/project/jair/pub/volume22/erkan04a-html/erkan04a.html" class="uri">http://www.cs.cmu.edu/afs/cs/project/jair/pub/volume22/erkan04a-html/erkan04a.html</a>).</p>
<p>Take a look at the summary and then at the full text!</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lexRankr)</span></code></pre></div>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb112-1" aria-hidden="true" tabindex="-1"></a>textToSummarize <span class="ot">=</span> testText</span>
<span id="cb112-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb112-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb112-3" aria-hidden="true" tabindex="-1"></a>summary <span class="ot">=</span> <span class="fu">lexRank</span>(textToSummarize,</span>
<span id="cb112-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb112-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">docId =</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">length</span>(textToSummarize)), <span class="co">#repeat same docid for all of input vector</span></span>
<span id="cb112-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb112-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">n =</span> <span class="dv">5</span>, <span class="co"># number of sentences</span></span>
<span id="cb112-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb112-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">continuous =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Parsing text into sentences and tokens...DONE
## Calculating pairwise sentence similarities...DONE
## Applying LexRank...DONE
## Formatting Output...DONE</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this is just preparing results for better viewing</span></span>
<span id="cb114-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb114-2" aria-hidden="true" tabindex="-1"></a>summary<span class="sc">$</span>sentenceId <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(summary<span class="sc">$</span>sentenceId, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d+_&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb114-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb114-3" aria-hidden="true" tabindex="-1"></a>summary<span class="sc">$</span>sentenceId <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(summary<span class="sc">$</span>sentenceId)</span>
<span id="cb114-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb114-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb114-5" aria-hidden="true" tabindex="-1"></a>summary <span class="ot">&lt;-</span> summary <span class="sc">%&gt;%</span></span>
<span id="cb114-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb114-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(sentenceId)</span>
<span id="cb114-7"><a href="text-analysis-ii-distances-keywords-summarization.html#cb114-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-8"><a href="text-analysis-ii-distances-keywords-summarization.html#cb114-8" aria-hidden="true" tabindex="-1"></a>summary<span class="sc">$</span>sentence</span></code></pre></div>
<pre><code>## [1] &quot;The Klimt University of Vienna Ceiling Paintings, also known as the Faculty Paintings, were a series of paintings made by Gustav Klimt for the ceiling of the University of Vienna`s Great Hall between the years of 1900–1907.&quot;                                            
## [2] &quot;Upon presenting his paintings, Philosophy, Medicine and Jurisprudence, Klimt came under attack for `pornography` and `perverted excess` in the paintings.&quot;                                                                                                                  
## [3] &quot;Klimt described the painting as follows: `On the left a group of figures, the beginning of life, fruition, decay.&quot;                                                                                                                                                          
## [4] &quot;In 1903, Hermann Bahr, a writer and a supporter of Klimt, in response to the criticism of the Faculty Paintings compiled articles which attacked Klimt, and published a book Gegen Klimt (Against Klimt) with his foreword, where he argued that the reactions were absurd.&quot;
## [5] &quot;In 1911 Medicine and Jurisprudence were bought by Klimt`s friend and fellow artist, Koloman Moser.[clarification needed] Medicine eventually came into the possession of a Jewish family, and in 1938 the painting was seized by Germany.&quot;</code></pre>
<pre><code>[1] &quot;The Klimt University of Vienna Ceiling Paintings, also known
as the Faculty Paintings, were a series of paintings made by Gustav
Klimt for the ceiling of the University of Vienna`s Great Hall
between the years of 1900–1907.&quot;

[2] &quot;Upon presenting his paintings, Philosophy, Medicine and
Jurisprudence, Klimt came under attack for `pornography` and
`perverted excess` in the paintings.&quot;                                                                                                                  
[3] &quot;Klimt described the painting as follows: `On the left a
group of figures, the beginning of life, fruition, decay.&quot;                                                                                                                                                          
[4] &quot;In 1903, Hermann Bahr, a writer and a supporter of Klimt, in
response to the criticism of the Faculty Paintings compiled articles
which attacked Klimt, and published a book Gegen Klimt (Against Klimt)
with his foreword, where he argued that the reactions were absurd.&quot;

[5] &quot;In 1911 Medicine and Jurisprudence were bought by Klimt`s
friend and fellow artist, Koloman Moser.[clarification needed]
Medicine eventually came into the possession of a Jewish family,
and in 1938 the painting was seized by Germany.&quot; </code></pre>
<p>Here is another corpus of articles to play with (from <code>tm</code> library):</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb117-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb117-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;acq&quot;</span>)</span>
<span id="cb117-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb117-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb117-5" aria-hidden="true" tabindex="-1"></a>acqTidy <span class="ot">&lt;-</span> <span class="fu">tidy</span>(acq)</span></code></pre></div>
<p>Here is an article:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb118-1" aria-hidden="true" tabindex="-1"></a>item <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb118-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb118-3" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(acqTidy<span class="sc">$</span>text[item], <span class="st">&quot;</span><span class="sc">\\</span><span class="st">s+&quot;</span>, <span class="st">&quot; &quot;</span>)</span>
<span id="cb118-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb118-4" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>## [1] &quot;Computer Terminal Systems Inc said it has completed the sale of 200,000 shares of its common stock, and warrants to acquire an additional one mln shares, to &lt;Sedio N.V.&gt; of Lugano, Switzerland for 50,000 dlrs. The company said the warrants are exercisable for five years at a purchase price of .125 dlrs per share. Computer Terminal said Sedio also has the right to buy additional shares and increase its total holdings up to 40 pct of the Computer Terminal&#39;s outstanding common stock under certain circumstances involving change of control at the company. The company said if the conditions occur the warrants would be exercisable at a price equal to 75 pct of its common stock&#39;s market price at the time, not to exceed 1.50 dlrs per share. Computer Terminal also said it sold the technolgy rights to its Dot Matrix impact technology, including any future improvements, to &lt;Woodco Inc&gt; of Houston, Tex. for 200,000 dlrs. But, it said it would continue to be the exclusive worldwide licensee of the technology for Woodco. The company said the moves were part of its reorganization plan and would help pay current operation costs and ensure product delivery. Computer Terminal makes computer generated labels, forms, tags and ticket printers and terminals. Reuter&quot;</code></pre>
<pre><code>[1] &quot;Computer Terminal Systems Inc said it has completed the sale
of 200,000 shares of its common stock, and warrants to acquire an
additional one mln shares, to &lt;Sedio N.V.&gt; of Lugano, Switzerland
for 50,000 dlrs. The company said the warrants are exercisable for
five years at a purchase price of .125 dlrs per share. Computer
Terminal said Sedio also has the right to buy additional shares
and increase its total holdings up to 40 pct of the Computer
Terminal&#39;s outstanding common stock under certain circumstances
involving change of control at the company. The company said if the
conditions occur the warrants would be exercisable at a price equal
to 75 pct of its common stock&#39;s market price at the time, not to
exceed 1.50 dlrs per share. Computer Terminal also said it sold the
technolgy rights to its Dot Matrix impact technology, including any
future improvements, to &lt;Woodco Inc&gt; of Houston, Tex. for 200,000
dlrs. But, it said it would continue to be the exclusive worldwide
licensee of the technology for Woodco. The company said the moves
were part of its reorganization plan and would help pay current
operation costs and ensure product delivery. Computer Terminal makes
computer generated labels, forms, tags and ticket printers and
terminals. Reuter&quot;</code></pre>
<p>Let’s see how our summary comes out:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb121-1" aria-hidden="true" tabindex="-1"></a>textToSummarize <span class="ot">=</span> test</span>
<span id="cb121-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb121-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb121-3" aria-hidden="true" tabindex="-1"></a>summary <span class="ot">=</span> <span class="fu">lexRank</span>(textToSummarize,</span>
<span id="cb121-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb121-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">docId =</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">length</span>(textToSummarize)), <span class="co">#repeat same docid for all of input vector</span></span>
<span id="cb121-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb121-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">n =</span> <span class="dv">3</span>, <span class="co"># number of sentences</span></span>
<span id="cb121-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb121-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">continuous =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Parsing text into sentences and tokens...DONE
## Calculating pairwise sentence similarities...DONE
## Applying LexRank...DONE
## Formatting Output...DONE</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="text-analysis-ii-distances-keywords-summarization.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this is just preparing results for better viewing</span></span>
<span id="cb123-2"><a href="text-analysis-ii-distances-keywords-summarization.html#cb123-2" aria-hidden="true" tabindex="-1"></a>summary<span class="sc">$</span>sentenceId <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(summary<span class="sc">$</span>sentenceId, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d+_&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb123-3"><a href="text-analysis-ii-distances-keywords-summarization.html#cb123-3" aria-hidden="true" tabindex="-1"></a>summary<span class="sc">$</span>sentenceId <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(summary<span class="sc">$</span>sentenceId)</span>
<span id="cb123-4"><a href="text-analysis-ii-distances-keywords-summarization.html#cb123-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-5"><a href="text-analysis-ii-distances-keywords-summarization.html#cb123-5" aria-hidden="true" tabindex="-1"></a>summary <span class="ot">&lt;-</span> summary <span class="sc">%&gt;%</span></span>
<span id="cb123-6"><a href="text-analysis-ii-distances-keywords-summarization.html#cb123-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(sentenceId)</span>
<span id="cb123-7"><a href="text-analysis-ii-distances-keywords-summarization.html#cb123-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-8"><a href="text-analysis-ii-distances-keywords-summarization.html#cb123-8" aria-hidden="true" tabindex="-1"></a>summary<span class="sc">$</span>sentence</span></code></pre></div>
<pre><code>## [1] &quot;Computer Terminal Systems Inc said it has completed the sale of 200,000 shares of its common stock, and warrants to acquire an additional one mln shares, to &lt;Sedio N.V.&gt; of Lugano, Switzerland for 50,000 dlrs.&quot;                                
## [2] &quot;Computer Terminal said Sedio also has the right to buy additional shares and increase its total holdings up to 40 pct of the Computer Terminal&#39;s outstanding common stock under certain circumstances involving change of control at the company.&quot;
## [3] &quot;The company said if the conditions occur the warrants would be exercisable at a price equal to 75 pct of its common stock&#39;s market price at the time, not to exceed 1.50 dlrs per share.&quot;</code></pre>
<pre><code>[1] &quot;Computer Terminal Systems Inc said it has completed the
sale of 200,000 shares of its common stock, and warrants to acquire
an additional one mln shares, to &lt;Sedio N.V.&gt; of Lugano,
Switzerland for 50,000 dlrs.&quot;

[2] &quot;Computer Terminal said Sedio also has the right to buy
additional shares and increase its total holdings up to 40 pct
of the Computer Terminal&#39;s outstanding common stock under certain
circumstances involving change of control at the company.&quot;

[3] &quot;The company said if the conditions occur the warrants
would be exercisable at a price equal to 75 pct of its common
stock&#39;s market price at the time, not to exceed 1.50 dlrs per share.&quot;</code></pre>
<ol start="11" class="example" style="list-style-type: decimal">
<li>Try this with other articles — and compare summaries with full versions. Share your observations.</li>
</ol>
<blockquote>
<blockquote>
<p>your code; your observations</p>
</blockquote>
</blockquote>
</div>
<div id="HW08" class="section level2" number="8.6">
<h2><span class="header-section-number">8.6</span> Homework</h2>
<ul>
<li>given in the chapter.</li>
</ul>
</div>
<div id="SHW08" class="section level2" number="8.7">
<h2><span class="header-section-number">8.7</span> Submitting homework</h2>
<ul>
<li>Homework assignment must be submitted by the beginning of the next class;</li>
<li>Email your homework to the instructor as attachments.
<ul>
<li>In the subject of your email, please, add the following: <code>57528-LXX-HW-YourLastName-YourMatriculationNumber</code>, where <code>LXX</code> is the number of the lesson for which you submit homework; <code>YourLastName</code> is your last name; and <code>YourMatriculationNumber</code> is your matriculation number.</li>
</ul></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="text-analysis-i-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="text-analysis-iii-finding-groups-of-texts.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "github"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": "https://github.com/EIS1600/course_TM_R_2022S/edit/main/02-Lesson08.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/EIS1600/course_TM_R_2022S/blob/main/02-Lesson08.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

</body>

</html>
